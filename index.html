<!DOCTYPE html>
<html>
    <head>
        <script src="../jsrl/simplifed.js"></script>
        <script>
            var x = 50;
            var y = 250;
            var speedy = 0;
            var gravity = 1;

            var toprow = [];

            var speed = 5;
            createrects();
            function update() {
                clear();

                if (key.space) {   
                    speedy = -10;
                }

                speedy += gravity;

                y += speedy;
                
                rect(x, y, 15, 15, "blue");
                toprow.forEach(function (value) {
                    value.x -= speed;
                    rect(value.x,value.y, value.w, value.h, "green");
                    if(value.x < 500) {
                        if(value.x < x && value.x + value.w > x && value.y < y && value.y + value.h > y) {
                            location.reload(true);
                            
                        }
                    }
                });

            } 

            

            function createrects() {
                for (i = 0; i < 100; i++) {
                    toprow.push({x: i*100 + 500,y: 0, w: 20, h: random(100, 250)});
                    var ran = random(100, 250)
                    toprow.push({x: i*100 + 500,y: 500 - ran , w: 20, h: ran});
                }
            }


            </script>
    </head>
    <body onload="start()">
        
    </body>
    
</html>